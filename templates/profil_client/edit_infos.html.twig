{% extends 'base.html.twig' %}

{% block title %}Mon compte
{% endblock %}

{% block body %}
	<main class="mt-4 p-lg-5 w-100 container-md home_container">
		<div class="d-flex flex-column gap-3 justify-content-around profil_card">
            {{ form_start(EditClient) }}
            <h1>Mon profil</h1>
            <aside class="profil_picture edit p-2">
				<h3>Avatar</h3>
                <div class="d-flex align-items-center">
					<div class="div_img">
						<img id="avatar_img" class="img-fluid" {% if app.user.googleId %}
																src="{{app.user.avatar}}" referrerpolicy="no-referrer"
																{% elseif app.user.avatar %} 
																src="{{asset("assets/uploads/avatar/" ~  app.user.avatar)}}" 
																{% else %} src="{{asset("assets/uploads/avatar/default.png")}}") 
																{% endif %}  alt="Photo de profil">	
					</div>
					{{ form_row(EditClient.avatar) }}
				</div>
            </aside>
			<div class=" w-100 p-2 p-lg-4">

				{# {% for message in app.flashes('success') %}
					<div class="alert alert-success mb-2">
						{{ message }}
					</div>
				{% endfor %} #}
				<h4>Informations personnelles</h4>
				<table class="table">
					<tbody>
						<tr>
                            <th>Prénom</th>
                            <td>{{ form_row(EditClient.firstname) }}</td>
						</tr>
						<tr>
							<th>Nom</th>
							<td>{{ form_row(EditClient.lastname) }}</td>
						</tr>
						<tr>
							<th>Email</th>
							<td>{{ form_row(EditClient.email) }}</td>
						</tr>
						<tr>
							<th>Téléphone</th>
							<td>{{ form_row(EditClient.phone) }}</td>
						</tr>
					</tbody>

				</table>

				<h4>Adresse</h4>
				<table class="table">
					<tbody>
						<tr>
							<th>Adresse</th>
							<td>{{ form_row(EditClient.address.address) }}</td>
						</tr>
						<tr>
							<th>Adresse ligne 2</th>
							<td>{{ form_row(EditClient.address.address2) }}</td>
						</tr>
						<tr>
							<th>Ville</th>
							<td>{{ form_row(EditClient.address.city) }}</td>
						</tr>
						<tr>
							<th>Code postal</th>
							<td>{{ form_row(EditClient.address.codePostal) }}</td>
						</tr>
						<tr>
							<th>Pays</th>
							<td>{{ form_row(EditClient.address.country) }}</td>
						</tr>
					</tbody>
				</table>

				{{ form_row(EditClient.isCompany) }}
				<article id="company_info" class="hide">
					<h4>Informations Société</h4>
					<table class="table">
						<tbody>
							<tr>
								<th>Nom</th>
								<td>{{ form_row(EditClient.companyName) }}</td>
							</tr>
							<tr>
								<th>Nom commercial</th>
								<td>{{ form_row(EditClient.companyCommercialName) }}</td>
							</tr>
							<tr>
								<th>Fonction dans l'entreprise</th>
								<td>{{ form_row(EditClient.jobInCompany) }}</td>
							</tr>
							<tr>
								<th>N° de siret</th>
								<td>{{ form_row(EditClient.siret) }}</td>
							</tr>
						</tbody>
					</table>
				</article>
			</div>
            <div class="d-flex align-items-center justify-between">
                <button type="submit">Valider</button>
            </div>
            {{ form_end(EditClient) }}
		</div>
	</main>
{% endblock %}